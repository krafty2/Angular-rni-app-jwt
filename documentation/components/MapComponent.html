<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>angular-rni-app documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">angular-rni-app documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">angular-rni-app documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AdminModule.html" >AdminModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/PublicModule.html" >PublicModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CarteComponent.html" >CarteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DashbordComponent.html" >DashbordComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginComponent.html" >LoginComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MapComponent.html"  class="active" >MapComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NavbarComponent.html" >NavbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NavbarComponent.html" >NavbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/RegistrationComponent.html" >RegistrationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SiteComponent.html" >SiteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SlideBarComponent.html" >SlideBarComponent</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/Mesure.html" >Mesure</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Site.html" >Site</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/SiteMesure.html" >SiteMesure</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/UniqueEmailValidators.html" >UniqueEmailValidators</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Ville.html" >Ville</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/AuthService.html" >AuthService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/JwtInterceptor.html" >JwtInterceptor</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/RniService.html" >RniService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/UniqueUtilisateurValidators.html" >UniqueUtilisateurValidators</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/ProfilUtilisateur.html" >ProfilUtilisateur</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">angular-rni-app documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AdminModule.html" >AdminModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/PublicModule.html" >PublicModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CarteComponent.html" >CarteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DashbordComponent.html" >DashbordComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginComponent.html" >LoginComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MapComponent.html"  class="active" >MapComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NavbarComponent.html" >NavbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NavbarComponent.html" >NavbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/RegistrationComponent.html" >RegistrationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SiteComponent.html" >SiteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SlideBarComponent.html" >SlideBarComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/Mesure.html" >Mesure</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Site.html" >Site</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/SiteMesure.html" >SiteMesure</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/UniqueEmailValidators.html" >UniqueEmailValidators</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Ville.html" >Ville</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/AuthService.html" >AuthService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/JwtInterceptor.html" >JwtInterceptor</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/RniService.html" >RniService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/UniqueUtilisateurValidators.html" >UniqueUtilisateurValidators</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/ProfilUtilisateur.html" >ProfilUtilisateur</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content component">
                   <div class="content-data">


<ol class="breadcrumb">
  <li>Components</li>
  <li>MapComponent</li>
</ol>


    <ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
        </li>
        <li>
            <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
        </li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade active in" id="infos"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/vue/rni/map/map.component.ts</code>
</p>



<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-map</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>map.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>map.component.html</code></td>
            </tr>


        </tbody>
    </table>
</section>



    <section>
        <h3 id="constructor">Constructor</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <code>constructor(rniService: any, router: <a href="https://angular.io/docs/ts/latest/api/router/index/Router-class.html" target="_blank" >Router</a>)</code>
                        </td>
                    </tr>
    
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="methods">Methods</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> TemplateRef</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>TemplateRef()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> TemplateRef</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>TemplateRef()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> mapM</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>mapM(data: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>resultat</b>
                                                            :     <code>data</code>
    
                                                    </div>
                                                    <div>
                                                        <p>de la requete sur les sites et les mesures<br>charge tout les elements de la carte</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> zoneDeRecherche</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>zoneDeRecherche()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Effectue la recherche au niveau de la carte</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> htmlIconeVille</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>htmlIconeVille(nb: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>nb</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>du html qui sera utilise pour generer l&#39;icone des markers de ville</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> markerVille</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>markerVille(lat: number, lgn: number, nbMesure: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>latitude</b>
                                                            :     <code>lat</code>
    
                                                    </div>
                                                    <div>
                                                        <p>de la ville</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>longitude</b>
                                                            :     <code>lgn</code>
    
                                                    </div>
                                                    <div>
                                                        <p>de la ville</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>nombre</b>
                                                            :     <code><a href="../classes/Mesure.html" target="_self" >nbMesure</a></code>
    
                                                    </div>
                                                    <div>
                                                        <p>de mesure en fonction de la ville </p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>marker de la ville generer</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> divPopup</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>divPopup(result: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>un</b>
                                                            :     <code>result</code>
    
                                                    </div>
                                                    <div>
                                                        <p>des resultats provenant de la requete recuperant toute les information concernant une mesure</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>creer pour generer le popup d&#39;un marker de mesure</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> generatePopupcontent</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>generatePopupcontent()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>un composants qui sera dynamiquement ajouter a la suite du popup de la map</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> telechargeRapport</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>telechargeRapport()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>methode de redirection d&#39;une page vers  la liste des lieux</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="inputs">Properties</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> annee</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>annee:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> any</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>any:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> any</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>any:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> any</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>any:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> any</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>any:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> content$</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>content$:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>recupere le contenu d&#39;un popup</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> idMesure</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>idMesure:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> lieu</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>lieu:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> localite</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>localite:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> map</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>map:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> mark</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>mark:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> mesure</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>mesure:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> nom</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>nom:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> nomRapport</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>nomRapport:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> number</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>number:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> osm</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>osm:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> popupTemplate</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>popupTemplate:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> province</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>province:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> region</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>region:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> role</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>role:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> searchForm</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>searchForm:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> siteMesure</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>siteMesure:     <code>any[]</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> string</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>string:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> String</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>String:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> villes</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>villes:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>
</div>
        <div class="tab-pane fade tab-source-code" id="source">
            <pre><code class="hljs javascript">import { formatDate } from &#x27;@angular/common&#x27;;
import { Component, OnInit, TemplateRef, ViewChild } from &#x27;@angular/core&#x27;;
import { Router } from &#x27;@angular/router&#x27;;
import * as L from &#x27;leaflet&#x27;;
import { Mesure } from &#x27;src/app/models/mesure&#x27;;
import { Site } from &#x27;src/app/models/site&#x27;;
import { SiteMesure } from &#x27;src/app/models/site-mesure&#x27;;
import { RniService } from &#x27;src/app/service/rni.service&#x27;;
import { saveAs } from &#x27;file-saver&#x27;;
import { Observable, forkJoin, merge, mergeAll } from &#x27;rxjs&#x27;;
import { Ville } from &#x27;src/app/models/ville&#x27;;
import { Target } from &#x27;@angular/compiler&#x27;;

@Component({
  selector: &#x27;app-map&#x27;,
  templateUrl: &#x27;./map.component.html&#x27;,
  styleUrls: [&#x27;./map.component.css&#x27;]
})
export class MapComponent implements OnInit {

  @ViewChild(&#x27;searchForm&#x27;, { read: TemplateRef })
  searchForm!: TemplateRef&lt;any&gt;;

  @ViewChild(&#x27;popupTemplate&#x27;, { static: true })
  popupTemplate!: TemplateRef&lt;any&gt;;

  region!: any;
  province!: any;
  localite!: any;
  annee!: any;

  siteMesure: SiteMesure[] &#x3D; [];
  lieu: Site &#x3D; new Site;
  mesure: Mesure &#x3D; new Mesure;
  nomRapport!: string;
  idMesure!: number;

  map: any;
  osm: any;
  mark: any;
  nom!: String;
  role: boolean &#x3D; false;
  villes: any;

  constructor(private rniService: RniService, private router: Router) { }

  ngOnInit(): void {

    this.rniService.lesVilles().subscribe((results) &#x3D;&gt; {
      this.villes &#x3D; results;
      this.rniService.dataMap().subscribe(data &#x3D;&gt; {
        this.mapM(data);
      });
    });
  }


  /**
   * 
   * @param {data} resultat de la requete sur les sites et les mesures
   * charge tout les elements de la carte
   */
  mapM(data: any) {

    this.siteMesure &#x3D; data;


    /**
     * regroupe les groupes entre eux
     */
    let shelterVilleMarkers &#x3D; new L.FeatureGroup();

    //supprime la carte si elle est deja charge
    if (this.map !&#x3D; undefined || this.map !&#x3D; null) {
      this.map.remove();
    }

    //different couche de la carte
    let osm &#x3D; L.tileLayer(&#x27;https://tile.openstreetmap.org/{z}/{x}/{y}.png&#x27;, {
      maxZoom: 19,
    });

    let googleHybrid &#x3D; L.tileLayer(&#x27;http://{s}.google.com/vt/lyrs&#x3D;s,h&amp;x&#x3D;{x}&amp;y&#x3D;{y}&amp;z&#x3D;{z}&#x27;, {
      maxZoom: 19,
      subdomains: [&#x27;mt0&#x27;, &#x27;mt1&#x27;, &#x27;mt2&#x27;, &#x27;mt3&#x27;]
    });

    let street &#x3D; L.tileLayer(&#x27;http://{s}.google.com/vt/lyrs&#x3D;m&amp;x&#x3D;{x}&amp;y&#x3D;{y}&amp;z&#x3D;{z}&#x27;, {
      maxZoom: 19,
      subdomains: [&#x27;mt0&#x27;, &#x27;mt1&#x27;, &#x27;mt2&#x27;, &#x27;mt3&#x27;]
    });

    //creation de la carte
    this.map &#x3D; L.map(&#x27;map&#x27;, { layers: [street, osm], zoom: 7 }).setView([12.396745, -1.556532]);

    //permet de supprimer l&#x27;attribution leaflet et de mettre une attribution personnalise
    this.map.attributionControl.setPrefix(&#x27;IRT CONSULTING&#x27;);
    //this.map.attributionControl.setPrefix(&#x60;&lt;div class&#x3D;&quot;black-text&quot;&gt;IRT&lt;/div&gt;&#x60;);

    //regroupe l&#x27;ensemble des couches pour pouvoir les inserer a l&#x27;interieur de la carte
    let baseMaps &#x3D; {
      &quot;Satelite&quot;: googleHybrid,
      &quot;OpenStreetMap&quot;: osm,
      &quot;Street&quot;: street
    };

    L.control.layers(baseMaps).addTo(this.map);

    //permet de crayer un nouveau control(methode de leaflet) qui va permettre
    //par la suite de pouvoir inserer notre formulaire dans la carte
    let serchControl &#x3D; new L.Control({ position: &#x27;topleft&#x27; });

    serchControl.onAdd &#x3D; () &#x3D;&gt; {
      let div &#x3D; L.DomUtil.create(&#x27;div&#x27;, &#x27;leaflet-form&#x27;);
      L.DomEvent.disableClickPropagation(div);
      let template &#x3D; this.searchForm.createEmbeddedView(null);
      div.appendChild(template.rootNodes[0]);
      return div;
    }

    serchControl.addTo(this.map);

    //affiche les villes sur la carte
    this.villes.forEach((_ville: Ville) &#x3D;&gt; {
      let nbMesure &#x3D; this.siteMesure.filter(
        el &#x3D;&gt; el.ville &#x3D;&#x3D;&#x3D; _ville.ville).length;
      if (nbMesure !&#x3D; 0) {
        let mark &#x3D; this.markerVille(_ville.latitudeV, _ville.longitudeV, nbMesure);
        shelterVilleMarkers.addLayer(mark);
      }
    });

    this.map.addLayer(shelterVilleMarkers);

    //----&gt; permet d&#x27;afficher le marker des villes en fonction du zoom
    this.map.on(&#x27;zoomend&#x27;, () &#x3D;&gt; {
      let zoomLevel &#x3D; this.map.getZoom();
      if (zoomLevel &lt; 10) {
        if (!this.map.hasLayer(shelterVilleMarkers))
          this.map.addLayer(shelterVilleMarkers);
      }

      if (zoomLevel &gt;&#x3D; 10) {
        if (this.map.hasLayer(shelterVilleMarkers))
          this.map.removeLayer(shelterVilleMarkers);

      }
    });

    let iconMesure &#x3D; L.icon({
      iconUrl: &#x27;assets/img/telephone-mobile.png&#x27;,
      iconSize: [25, 25],
      popupAnchor: [0, -20],
    });

    //groupe les markers des mesures//
    let shelterMarkers &#x3D; new L.FeatureGroup();

    //place les points sur la carte

    this.siteMesure.forEach((_results) &#x3D;&gt; {
      let div &#x3D; this.divPopup(_results);
      this.mark &#x3D; L.marker([_results.latitude, _results.longitude], { icon: iconMesure });
      let popup &#x3D; this.mark.bindPopup(div);
      shelterMarkers.addLayer(popup);
      //popup.addTo(this.map);
      this.mark.bindTooltip(&#x60;${_results.moyenneSpatiale}&#x60;, { permanent: false }).openTooltip();
      //recupere le contenu du marker lorsque l&#x27;on click dessus
      this.mark.on(&#x27;click&#x27;, this.content$.subscribe());
    })

    this.map.on(&#x27;zoomend&#x27;, () &#x3D;&gt; {
      let currentZoom &#x3D; this.map.getZoom();
      if (currentZoom &lt; 10) {
        if (this.map.hasLayer(shelterMarkers)) {
          this.map.removeLayer(shelterMarkers);
        }
      }
      if (currentZoom &gt;&#x3D; 10) {
        if (!this.map.hasLayer(shelterMarkers)) {
          this.map.addLayer(shelterMarkers);
        }
      }
    });
  }

  //

  /**
   * Effectue la recherche au niveau de la carte
   * 
   */
  zoneDeRecherche() {
    let form &#x3D; document.getElementById(&#x27;leaflet-form&#x27;) as HTMLFormElement;
    if (form) {
      let formData &#x3D; new FormData(form);
      this.region &#x3D; formData.get(&#x27;region&#x27;);
      this.province &#x3D; formData.get(&#x27;province&#x27;);
      this.localite &#x3D; formData.get(&#x27;localite&#x27;);
      this.annee &#x3D; formData.get(&#x27;annee&#x27;);
    }
    if (this.region &amp;&amp; this.province &amp;&amp; this.localite &amp;&amp; this.annee)
      this.rniService.rechercheAvance1(this.annee, this.region, this.province, this.localite).subscribe((data: any) &#x3D;&gt; {
        this.mapM(data);
      })
  }

  /**
   * 
   * @param nb 
   * @returns du html qui sera utilise pour generer l&#x27;icone des markers de ville
   */
  htmlIconeVille(nb: number) {
    return &#x60;
      &lt;a class&#x3D;&quot;btn-floating btn text pulse&quot;&gt;${nb}&lt;/a&gt;
    &#x60;;
  }

  /**
   * 
   * @param {lat} latitude de la ville
   * @param {lgn} longitude de la ville
   * @param {nbMesure} nombre de mesure en fonction de la ville 
   * @returns {mark} marker de la ville generer
   */
  markerVille(lat: number, lgn: number, nbMesure: number) {
    let villeIcon &#x3D; L.divIcon({
      className: &#x27;icon&#x27;,
      html: this.htmlIconeVille(nbMesure),
      iconSize: [20, 20],
    });
    //---&gt; effectue un zoom lors du click
    let mark &#x3D; L.marker([lat, lgn], { icon: villeIcon }).on(&#x27;click&#x27;, (e: any) &#x3D;&gt; {
      this.map.setView(e.latlng, 11);
      this.map.removeLayer(mark);
    });
    return mark;
  }

  /**
   * 
   * @param {result} un des resultats provenant de la requete recuperant toute les information concernant une mesure
   * @returns {div} creer pour generer le popup d&#x27;un marker de mesure
   */
  divPopup(result: SiteMesure) {
    let div &#x3D; L.DomUtil.create(&#x27;div&#x27;, &#x27;card-panel grey lighten-4&#x27;);
    div.innerHTML &#x3D; &#x60;
      &lt;span class&#x3D;&quot;baliseLeaflet&quot;&gt;*${result.idMesure}*&lt;/span&gt;
      &lt;span class&#x3D;&quot;baliseLeaflet&quot;&gt;~${result.nomRapport}~&lt;/span&gt;
      &lt;strong class&#x3D;&quot;test&quot;&gt;Site : ${result.nomSite}&lt;/strong&gt;
      &lt;p&gt;Region : ${result.region}&lt;/p&gt;
      &lt;p&gt;Province : ${result.province}&lt;/p&gt;
      &lt;p&gt;Localite : ${result.ville}&lt;/p&gt;
      &lt;p&gt;Mesure réalise le : ${formatDate(result.dateMesure, &#x27;dd/MM/yyyy&#x27;, &#x27;en-US&#x27;)}&lt;/p&gt;
      &lt;p class&#x3D;&quot;light-blue darken-1 white-text z-depth-2 center&quot; style&#x3D;&quot;padding: 5px;&quot; &gt;Moyenne spatiale recupérée : ${result.moyenneSpatiale}  EV/m&lt;/p&gt;

      &lt;script&gt;
        var test &#x3D; document.getElementsByClassName(&#x27;.test&#x27;);
        test.style.color &#x3D; &#x27;orange&#x27;;
      &lt;/script&gt;
      &#x60;
    let content &#x3D; this.generatePopupcontent();
    //this.role&#x3D;&#x27;INVITE&#x27;
    if (this.role)
      div.appendChild(content);
    return div;
  }


  /**
   * 
   * @returns un composants qui sera dynamiquement ajouter a la suite du popup de la map
   */
  generatePopupcontent() {
    let context &#x3D; {
      title: &#x27;test&#x27;,
      description: &#x27;Ma description&#x27;
    }

    let content &#x3D; this.popupTemplate.createEmbeddedView(context);
    return content.rootNodes[0];
  }

  /**
   * methode de redirection d&#x27;une page vers  la liste des lieux
   */
  telechargeRapport() {
    if (this.idMesure)
      this.rniService.telechargerRapport(this.idMesure).subscribe(
        (blob: Blob) &#x3D;&gt; saveAs(blob, this.nomRapport)
      );
  }

  /**
   * recupere le contenu d&#x27;un popup
   */
  content$ &#x3D; new Observable(() &#x3D;&gt; {
    this.mark.on(&#x27;click&#x27;, (e: { target: { getPopup: () &#x3D;&gt; any; }; }) &#x3D;&gt; {
      let popup &#x3D; e.target.getPopup();
      //recuperation d&#x27;un element htmldivelement
      let content &#x3D; popup.getContent();

      let contentString &#x3D; content.outerHTML;

      //filter une zone cible la zone ou se trouve l&#x27;id de la mesure
      let filterId &#x3D; contentString.split(&quot;*&quot;);

      let filterNomRapport &#x3D; contentString.split(&quot;~&quot;);


      let nb &#x3D; Number(filterId[1]);
      this.nomRapport &#x3D; filterNomRapport[1];
      console.log(this.nomRapport);
      this.idMesure &#x3D; nb;

      var test &#x3D; document.querySelector(&#x27;.test&#x27;) as HTMLElement;
      test.style.color &#x3D; &#x27;orange&#x27;;
    })
  });
}
</code></pre>
        </div>
    </div>










                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
